[mupf] main ┌─< App.__init__/0
[mupf] main └─> App.__init__/0
[mupf] main ┌─< App.open_with_client/0
[mupf] main │┌─< App.__enter__/0
[mupf] main ││┌─< App.is_opened/0
[mupf] main ││└─> App.is_opened/0                                                        -> False
[mupf] main ││┌─< App.open/0
[mupf] serv │││        ─< _app.py/server_event/0                                       <-   'entering server thread body'
[asyncio] Using selector: SelectSelector
[mupf] serv │││        ─< _app.py/server_event/1                                       <-   'creating event loop', eloop=<EventLoop halted>
[mupf] serv │││        ─< _app.py/server_event/2                                       <-   'creating server object'
[mupf] serv │││        ─< _app.py/server_event/3                                       <-   'server starting ...'
[mupf] serv │││        ─< _app.py/server_event/4                                       <-   'server started', <WebSocket Server 3623518>
[mupf] serv │││        ─< _app.py/server_event/5                                       <-   'server open state mutex set', <WebSocket Server 3623518>
[mupf] main ││└─> App.open/0                                                             -> <App>
[mupf] main ││┌─< App.is_opened/1
[mupf] main ││└─> App.is_opened/1                                                        -> True
[mupf] main │└─> App.__enter__/0                                                         -> <App>
[mupf] main │┌─< App.summon_client/0                                                   <-   <class 'mupf.client._webbrowser.WebBrowser'>
[mupf] main ││┌─< App.get_unique_client_id/0
[mupf] main ││└─> App.get_unique_client_id/0                                             -> 'PHiYE4jLQMa_1LZWrtmqOw'
[mupf] main ││┌─< Client<WebBrowser ?>.__init__/0                                      <-   <App>, 'PHiYE4jLQMa_1LZWrtmqOw'
[mupf] main │││┌─< Command_of_PHiYE4<[ cmd ? ? ]>.__init__/0                           <-   '*first*'
[mupf] main │││└─> Command_of_PHiYE4<[ cmd ? ? ]>.__init__/0
[mupf] main │││┌─< Command_of_PHiYE4<[ cmd None *first* ]>.__call__/0
[mupf] main ││││┌─< Command_of_PHiYE4<[ cmd 0 *first* ]>._jsonify/0                    <-   (), {}
[mupf] main ││││└─> Command_of_PHiYE4<[ cmd 0 *first* ]>._jsonify/0                      -> [0, 0, '*first*', {'args': (), 'kwargs': {}}]
[mupf] main │││└─> Command_of_PHiYE4<[ cmd None *first* ]>.__call__/0                    -> <[ cmd 0 *first* ]>
[mupf] main ││└─> Client<WebBrowser ?>.__init__/0
[mupf] main ││┌─< Client<WebBrowser PHiYE4>.install_javascript/0                       <-   src='mupf/core'
[mupf] main │││┌─< Command_of_PHiYE4<[ cmd ? ? ]>.__init__/1                           <-   '*install*'
[mupf] main │││└─> Command_of_PHiYE4<[ cmd ? ? ]>.__init__/1
[mupf] main │││┌─< Command_of_PHiYE4<[ cmd None *install* ]>.__call__/1                <-   src='mupf/core', remove=True
[mupf] main ││││┌─< Command_of_PHiYE4<[ cmd 1 *install* ]>._jsonify/1                  <-   (), {'src': 'mupf/core', 'remove': True}
[mupf] main ││││└─> Command_of_PHiYE4<[ cmd 1 *install* ]>._jsonify/1                    -> [0, 1, '*install*', {'args': (), 'kwargs': {'src': 'mupf/core', 'remove': True}}]
[mupf] main ││││┌─< Client<WebBrowser PHiYE4>.send_json/0                              <-   [0, 1, '*install*', {'args': (), 'kwargs': {'src': 'mupf/core', 'remove': True}}]
[mupf] main ││││└─> Client<WebBrowser PHiYE4>.send_json/0
[mupf] main │││└─> Command_of_PHiYE4<[ cmd None *install* ]>.__call__/1                  -> <[ cmd 1 *install* ]>
[mupf] main ││└─> Client<WebBrowser PHiYE4>.install_javascript/0                         -> <[ cmd 1 *install* ]>
[websockets.protocol] server - state = CONNECTING
[websockets.protocol] server - event = connection_made(<_SelectorSocketTransport fd=432 read=idle write=<idle, bufsize=0>>)
[mupf] serv ││        ┌─< App._process_HTTP_request/0                                  <-   '/', Headers([('Host', '127.0.0.1:57107'), ('User-Agent', 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0'), ('Accept', 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8'), ('Accept-Language', 'pl,en-US;q=0.7,en;q=0.3'), ('Accept-Encoding', 'gzip, deflate'), ('Connection', 'keep-alive'), ('Upgrade-Insecure-Requests', '1')])
[mupf] serv ││        └─> App._process_HTTP_request/0
[websockets.protocol] server ! failing WebSocket connection in the CONNECTING state: 1006 [no reason]
[websockets.protocol] server x half-closing TCP connection
[websockets.protocol] server - event = eof_received()
[websockets.protocol] server - event = connection_lost(None)
[websockets.protocol] server - state = CLOSED
[websockets.protocol] server x code = 1006, reason = [no reason]
[websockets.protocol] server - state = CONNECTING
[websockets.protocol] server - event = connection_made(<_SelectorSocketTransport fd=432 read=idle write=<idle, bufsize=0>>)
[mupf] serv ││        ┌─< App._process_HTTP_request/1                                  <-   '/mupf/bootstrap', Headers([('Host', '127.0.0.1:57107'), ('User-Agent', 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0'), ('Accept', '*/*'), ('Accept-Language', 'pl,en-US;q=0.7,en;q=0.3'), ('Accept-Encoding', 'gzip, deflate'), ('Referer', 'http://127.0.0.1:57107/'), ('Connection', 'keep-alive')])
[mupf] serv ││        └─> App._process_HTTP_request/1
[websockets.protocol] server ! failing WebSocket connection in the CONNECTING state: 1006 [no reason]
[websockets.protocol] server x half-closing TCP connection
[websockets.protocol] server - event = eof_received()
[websockets.protocol] server - event = connection_lost(None)
[websockets.protocol] server - state = CLOSED
[websockets.protocol] server x code = 1006, reason = [no reason]
[websockets.protocol] server - state = CONNECTING
[websockets.protocol] server - event = connection_made(<_SelectorSocketTransport fd=432 read=idle write=<idle, bufsize=0>>)
[mupf] serv ││        ┌─< App._process_HTTP_request/2                                  <-   '/mupf/ws', Headers([('Host', '127.0.0.1:57107'), ('User-Agent', 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0'), ('Accept', 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8'), ('Accept-Language', 'pl,en-US;q=0.7,en;q=0.3'), ('Accept-Encoding', 'gzip, deflate'), ('Sec-WebSocket-Version', '13'), ('Origin', 'http://127.0.0.1:57107'), ('Sec-WebSocket-Extensions', 'permessage-deflate'), ('Sec-WebSocket-Key', 'o4zqesLUrXEY5uLc5OQcQg=='), ('Connection', 'keep-alive, Upgrade'), ('Pragma', 'no-cache'), ('Cache-Control', 'no-cache'), ('Upgrade', 'websocket')])
[mupf] serv ││        └─> App._process_HTTP_request/2
[websockets.protocol] server - state = OPEN
[mupf] serv ││         ─< _app.py/websocket_event/0                                    <-   'entering websocket request body', <WebSocket Protocol 363ABE0>, path='/mupf/ws'
[websockets.protocol] server < Frame(fin=True, opcode=1, data=b'[1,0,0,{"result":{"cid":"PHiYE4jLQMa_1LZWrtmqOw","ua":"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0"}}]', rsv1=False, rsv2=False, rsv3=False)
[mupf] serv ││         ─< _app.py/websocket_event/1                                    <-   'websocket received result of *first*', <WebSocket Protocol 363ABE0>, msg='[1,0,0,{"result":{"cid":"PHiYE4jLQMa_1LZWrtmqOw","ua":"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0"}}]'
[mupf] serv ││        ┌─< Client.decode_json_simple/0                                  <-   '[1,0,0,{"result":{"cid":"PHiYE4jLQMa_1LZWrtmqOw","ua":"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0"}}]'
[mupf] serv ││        └─> Client.decode_json_simple/0                                    -> [1, 0, 0, {'result': {'cid': 'PHiYE4jLQMa_1LZWrtmqOw', 'ua': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0'}}]
[mupf] serv ││         ─< _app.py/websocket_event/2                                    <-   'websocket assigned to client', <WebSocket Protocol 363ABE0>, client=<WebBrowser PHiYE4>
[mupf] serv ││         ─< _app.py/websocket_event/3                                    <-   'websocket awaiting for client...', <WebSocket Protocol 363ABE0>, client=<WebBrowser PHiYE4>
[mupf] serv ││        ┌─< Client<WebBrowser PHiYE4>.await_connection/0
[mupf] serv ││        │┌─< Command_of_PHiYE4<[ cmd 0 *first* ]>.is_in_bad_state/0
[mupf] serv ││        │└─> Command_of_PHiYE4<[ cmd 0 *first* ]>.is_in_bad_state/0                            -> False
[mupf] serv ││        │┌─< Client<WebBrowser PHiYE4>.send_json/1                       <-   [0, 1, '*install*', {'args': (), 'kwargs': {'src': 'mupf/core', 'remove': True}}]
[mupf] serv ││        │└─> Client<WebBrowser PHiYE4>.send_json/1
[mupf] serv ││        └─> Client<WebBrowser PHiYE4>.await_connection/0                   -> <WebBrowser PHiYE4>
[mupf] serv ││         ─< _app.py/websocket_event/4                                    <-   'websocket contacted by client', <WebSocket Protocol 363ABE0>, client=<WebBrowser PHiYE4>
[mupf] serv ││         ─< _app.py/websocket_event/5                                    <-   'websocket going to sleep', <WebSocket Protocol 363ABE0>
[mupf] serv ││        ┌─< client/_base.py/create_send_task/0                           <-   <EventLoop>, <WebSocket Protocol 363ABE0>, '[0,1,"*install*",{"args":[],"kwargs":{"src":"mupf/core","remove":true}}]'
[mupf] serv ││        └─> client/_base.py/create_send_task/0
[websockets.protocol] server > Frame(fin=True, opcode=1, data=b'[0,1,"*install*",{"args":[],"kwargs":{"src":"mupf/core","remove":true}}]', rsv1=False, rsv2=False, rsv3=False)
[websockets.protocol] server - state = CONNECTING
[websockets.protocol] server - event = connection_made(<_SelectorSocketTransport fd=384 read=idle write=<idle, bufsize=0>>)
[mupf] serv ││        ┌─< App._process_HTTP_request/3                                  <-   '/mupf/core', Headers([('Host', '127.0.0.1:57107'), ('User-Agent', 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0'), ('Accept', '*/*'), ('Accept-Language', 'pl,en-US;q=0.7,en;q=0.3'), ('Accept-Encoding', 'gzip, deflate'), ('Referer', 'http://127.0.0.1:57107/'), ('Connection', 'keep-alive')])
[mupf] serv ││        └─> App._process_HTTP_request/3
[websockets.protocol] server ! failing WebSocket connection in the CONNECTING state: 1006 [no reason]
[websockets.protocol] server x half-closing TCP connection
[websockets.protocol] server - event = eof_received()
[websockets.protocol] server - event = connection_lost(None)
[websockets.protocol] server - state = CLOSED
[websockets.protocol] server x code = 1006, reason = [no reason]
[websockets.protocol] server < Frame(fin=True, opcode=1, data=b'[1,1,0,{"result":null}]', rsv1=False, rsv2=False, rsv3=False)
[mupf] serv ││        ┌─< Client<WebBrowser PHiYE4>.decode_json/0                      <-   '[1,1,0,{"result":null}]'
[mupf] serv ││        └─> Client<WebBrowser PHiYE4>.decode_json/0                        -> [1, 1, 0, {'result': None}]
[mupf] serv ││         ─< _app.py/websocket_event/6                                    <-   'websocket going to sleep', <WebSocket Protocol 363ABE0>
[mupf] main ││┌─< Command_of_PHiYE4<[ cmd ? ? ]>.__init__/2                            <-   '*features*'
[mupf] main ││└─> Command_of_PHiYE4<[ cmd ? ? ]>.__init__/2
[mupf] main ││┌─< Command_of_PHiYE4<[ cmd None *features* ]>.__call__/2
[mupf] main │││┌─< Command_of_PHiYE4<[ cmd 2 *features* ]>._jsonify/2                  <-   (), {}
[mupf] main │││└─> Command_of_PHiYE4<[ cmd 2 *features* ]>._jsonify/2                    -> [0, 2, '*features*', {'args': (), 'kwargs': {}}]
[mupf] main │││┌─< Client<WebBrowser PHiYE4>.send_json/2                               <-   [0, 2, '*features*', {'args': (), 'kwargs': {}}]
[mupf] main │││└─> Client<WebBrowser PHiYE4>.send_json/2
[mupf] serv │││       ┌─< client/_base.py/create_send_task/1                           <-   <EventLoop>, <WebSocket Protocol 363ABE0>, '[0,2,"*features*",{"args":[],"kwargs":{}}]'
[mupf] main ││└───────┼─> Command_of_PHiYE4<[ cmd None *features* ]>.__call__/2                              -> <[ cmd 2 *features* ]>
[mupf] serv ││        └─> client/_base.py/create_send_task/1
[websockets.protocol] server > Frame(fin=True, opcode=1, data=b'[0,2,"*features*",{"args":[],"kwargs":{}}]', rsv1=False, rsv2=False, rsv3=False)
[websockets.protocol] server < Frame(fin=True, opcode=1, data=b'[1,2,0,{"result":{"_user_feature":true,"core_features":true,"strict_feature_list":false,"verbose_macros":false,"friendly_obj_names":false,"safe_dunders":true,"garbage_collection":true,"test_feature":true,"another_test_feat":false}}]', rsv1=False, rsv2=False, rsv3=False)
[mupf] serv ││        ┌─< Client<WebBrowser PHiYE4>.decode_json/1                      <-   '[1,2,0,{"result":{"_user_feature":true,"core_features":true,"strict_feature_list":false,"verbose_macros":false,"friendly_obj_names":false,"safe_dunders":true,"garbage_collection":true,"test_feature":true,"another_test_feat":false}}]'
[mupf] serv ││        └─> Client<WebBrowser PHiYE4>.decode_json/1                        -> [1, 2, 0, {'result': {'_user_feature': True, 'core_features': True, 'strict_feature_list': False, 'verbose_macros': False, 'friendly_obj_names': False, 'safe_dunders': True, 'garbage_collection': True, 'test_feature': True, 'another_test_feat': False}}]
[mupf] serv ││         ─< _app.py/websocket_event/7                                    <-   'websocket going to sleep', <WebSocket Protocol 363ABE0>
[mupf] main ││┌─< Command_of_PHiYE4<[ cmd ? ? ]>.__init__/3                            <-   '*getcmds*'
[mupf] main ││└─> Command_of_PHiYE4<[ cmd ? ? ]>.__init__/3
[mupf] main ││┌─< Command_of_PHiYE4<[ cmd None *getcmds* ]>.__call__/3
[mupf] main │││┌─< Command_of_PHiYE4<[ cmd 3 *getcmds* ]>._jsonify/3                   <-   (), {}
[mupf] main │││└─> Command_of_PHiYE4<[ cmd 3 *getcmds* ]>._jsonify/3                     -> [0, 3, '*getcmds*', {'args': (), 'kwargs': {}}]
[mupf] main │││┌─< Client<WebBrowser PHiYE4>.send_json/3                               <-   [0, 3, '*getcmds*', {'args': (), 'kwargs': {}}]
[mupf] main │││└─> Client<WebBrowser PHiYE4>.send_json/3
[mupf] main ││└─> Command_of_PHiYE4<[ cmd None *getcmds* ]>.__call__/3                   -> <[ cmd 3 *getcmds* ]>
[mupf] serv ││        ┌─< client/_base.py/create_send_task/2                           <-   <EventLoop>, <WebSocket Protocol 363ABE0>, '[0,3,"*getcmds*",{"args":[],"kwargs":{}}]'
[mupf] serv ││        └─> client/_base.py/create_send_task/2
[websockets.protocol] server > Frame(fin=True, opcode=1, data=b'[0,3,"*getcmds*",{"args":[],"kwargs":{}}]', rsv1=False, rsv2=False, rsv3=False)
[websockets.protocol] server < Frame(fin=True, opcode=1, data=b'[1,3,0,{"result":["*first*","*last*","*install*","*features*","*get*","*set*","*call*","*gc*","*getcmds*"]}]', rsv1=False, rsv2=False, rsv3=False)
[mupf] serv ││        ┌─< Client<WebBrowser PHiYE4>.decode_json/2                      <-   '[1,3,0,{"result":["*first*","*last*","*install*","*features*","*get*","*set*","*call*","*gc*","*getcmds*"]}]'
[mupf] serv ││        └─> Client<WebBrowser PHiYE4>.decode_json/2                        -> [1, 3, 0, {'result': ['*first*', '*last*', '*install*', '*features*', '*get*', '*set*', '*call*', '*gc*', '*getcmds*']}]
[mupf] serv ││         ─< _app.py/websocket_event/8                                    <-   'websocket going to sleep', <WebSocket Protocol 363ABE0>
[mupf] main ││ ─> Client<WebBrowser PHiYE4>.summoned/0
[mupf] main │└─> App.summon_client/0                                                     -> <WebBrowser PHiYE4>
[mupf] main └─> App.open_with_client/0
[mupf] main ┌─< App.__enter__/1
[mupf] main │┌─< App.is_opened/2
[mupf] main │└─> App.is_opened/2                                                         -> True
[mupf] main └─> App.__enter__/1                                                          -> <WebBrowser PHiYE4>
[mupf] main ┌─< Command_of_PHiYE4<[ cmd ? ? ]>.__init__/4                              <-   '*get*'
[mupf] main └─> Command_of_PHiYE4<[ cmd ? ? ]>.__init__/4
[mupf] main ┌─< Command_of_PHiYE4<[ cmd None *get* ]>.__call__/4                       <-   ["~@",0], 'document'
[mupf] main │┌─< Command_of_PHiYE4<[ cmd 4 *get* ]>._jsonify/4                         <-   (["~@",0], 'document'), {}
[mupf] main │└─> Command_of_PHiYE4<[ cmd 4 *get* ]>._jsonify/4                           -> [0, 4, '*get*', {'args': (["~@",0], 'document'), 'kwargs': {}}]
[mupf] main │┌─< Client<WebBrowser PHiYE4>.send_json/4                                 <-   [0, 4, '*get*', {'args': (["~@",0], 'document'), 'kwargs': {}}]
[mupf] serv ││        ┌─< client/_base.py/create_send_task/3                           <-   <EventLoop>, <WebSocket Protocol 363ABE0>, '[0,4,"*get*",["~",{"args":[["~@",0],"document"],"kwargs":{}},{"c":1}]]'
[mupf] main │└────────┼─> Client<WebBrowser PHiYE4>.send_json/4
[mupf] serv │         └─> client/_base.py/create_send_task/3
[mupf] main └─> Command_of_PHiYE4<[ cmd None *get* ]>.__call__/4                         -> <[ cmd 4 *get* ]>
[websockets.protocol] server > Frame(fin=True, opcode=1, data=b'[0,4,"*get*",["~",{"args":[["~@",0],"document"],"kwargs":{}},{"c":1}]]', rsv1=False, rsv2=False, rsv3=False)
[websockets.protocol] server < Frame(fin=True, opcode=1, data=b'[1,4,0,["~",{"result":["~@",1,null]},{"c":1}]]', rsv1=False, rsv2=False, rsv3=False)
[mupf] serv           ┌─< Client<WebBrowser PHiYE4>.decode_json/3                      <-   '[1,4,0,["~",{"result":["~@",1,null]},{"c":1}]]'
[mupf] serv           │┌─< Client<WebBrowser PHiYE4>.get_remote_obj/0                  <-   1, None
[mupf] serv           ││┌─< Client<WebBrowser PHiYE4>.get_remote_obj/1                 <-   None
[mupf] serv           ││└─> Client<WebBrowser PHiYE4>.get_remote_obj/1
[mupf] serv           │└─> Client<WebBrowser PHiYE4>.get_remote_obj/0                    -> <RemoteObj 1 of PHiYE4 at 364FE80>
[mupf] serv           └─> Client<WebBrowser PHiYE4>.decode_json/3                        -> [1, 4, 0, {'result': <mupf._remote.RemoteObj object at 0x000000000364FE80>}]
[mupf] serv            ─< _app.py/websocket_event/9                                    <-   'websocket going to sleep', <WebSocket Protocol 363ABE0>
[mupf] main ┌─< Command_of_PHiYE4<[ cmd ? ? ]>.__init__/5                              <-   '*get*'
[mupf] main └─> Command_of_PHiYE4<[ cmd ? ? ]>.__init__/5
[mupf] main ┌─< Command_of_PHiYE4<[ cmd None *get* ]>.__call__/5                       <-   ["~@",1], 'body'
[mupf] main │┌─< Command_of_PHiYE4<[ cmd 5 *get* ]>._jsonify/5                         <-   (["~@",1], 'body'), {}
[mupf] main │└─> Command_of_PHiYE4<[ cmd 5 *get* ]>._jsonify/5                           -> [0, 5, '*get*', {'args': (["~@",1], 'body'), 'kwargs': {}}]
[mupf] main │┌─< Client<WebBrowser PHiYE4>.send_json/5                                 <-   [0, 5, '*get*', {'args': (["~@",1], 'body'), 'kwargs': {}}]
[mupf] serv ││        ┌─< client/_base.py/create_send_task/4                           <-   <EventLoop>, <WebSocket Protocol 363ABE0>, '[0,5,"*get*",["~",{"args":[["~@",1],"body"],"kwargs":{}},{"c":1}]]'
[mupf] main │└────────┼─> Client<WebBrowser PHiYE4>.send_json/5
[mupf] serv │         └─> client/_base.py/create_send_task/4
[mupf] main └─> Command_of_PHiYE4<[ cmd None *get* ]>.__call__/5                         -> <[ cmd 5 *get* ]>
[websockets.protocol] server > Frame(fin=True, opcode=1, data=b'[0,5,"*get*",["~",{"args":[["~@",1],"body"],"kwargs":{}},{"c":1}]]', rsv1=False, rsv2=False, rsv3=False)
[websockets.protocol] server < Frame(fin=True, opcode=1, data=b'[1,5,0,["~",{"result":["~@",2,null]},{"c":1}]]', rsv1=False, rsv2=False, rsv3=False)
[mupf] serv           ┌─< Client<WebBrowser PHiYE4>.decode_json/4                      <-   '[1,5,0,["~",{"result":["~@",2,null]},{"c":1}]]'
[mupf] serv           │┌─< Client<WebBrowser PHiYE4>.get_remote_obj/2                  <-   2, None
[mupf] serv           ││┌─< Client<WebBrowser PHiYE4>.get_remote_obj/3                 <-   None
[mupf] serv           ││└─> Client<WebBrowser PHiYE4>.get_remote_obj/3
[mupf] serv           │└─> Client<WebBrowser PHiYE4>.get_remote_obj/2                    -> <RemoteObj 2 of PHiYE4 at 364FF28>
[mupf] serv           └─> Client<WebBrowser PHiYE4>.decode_json/4                        -> [1, 5, 0, {'result': <mupf._remote.RemoteObj object at 0x000000000364FF28>}]
[mupf] serv            ─< _app.py/websocket_event/10                                   <-   'websocket going to sleep', <WebSocket Protocol 363ABE0>
[mupf] main ┌─< Command_of_PHiYE4<[ cmd ? ? ]>.__init__/6                              <-   '*gc*'
[mupf] main └─> Command_of_PHiYE4<[ cmd ? ? ]>.__init__/6
[mupf] main ┌─< Command_of_PHiYE4<[ cmd None *gc* ]>.run/0                             <-   1
[mupf] main │┌─< Command_of_PHiYE4<[ run None *gc* ]>.__call__/6                       <-   1
[mupf] main ││┌─< Command_of_PHiYE4<[ run 6 *gc* ]>._jsonify/6                         <-   (1,), {}
[mupf] main ││└─> Command_of_PHiYE4<[ run 6 *gc* ]>._jsonify/6                           -> [2, 6, '*gc*', {'args': (1,), 'kwargs': {}}]
[mupf] main ││┌─< Client<WebBrowser PHiYE4>.send_json/6                                <-   [2, 6, '*gc*', {'args': (1,), 'kwargs': {}}]
[mupf] serv │││       ┌─< client/_base.py/create_send_task/5                           <-   <EventLoop>, <WebSocket Protocol 363ABE0>, '[2,6,"*gc*",{"args":[1],"kwargs":{}}]'
[mupf] serv │││       └─> client/_base.py/create_send_task/5
[websockets.protocol] server > Frame(fin=True, opcode=1, data=b'[2,6,"*gc*",{"args":[1],"kwargs":{}}]', rsv1=False, rsv2=False, rsv3=False)
[mupf] main ││└─> Client<WebBrowser PHiYE4>.send_json/6
[mupf] main │└─> Command_of_PHiYE4<[ run None *gc* ]>.__call__/6                         -> <[ run 6 *gc* ]>
[mupf] main └─> Command_of_PHiYE4<[ cmd None *gc* ]>.run/0                               -> <[ cmd 6 *gc* ]>
[mupf] main ┌─< Command_of_PHiYE4<[ cmd ? ? ]>.__init__/7                              <-   '*set*'
[mupf] main └─> Command_of_PHiYE4<[ cmd ? ? ]>.__init__/7
[mupf] main ┌─< Command_of_PHiYE4<[ cmd None *set* ]>.__call__/7                       <-   ["~@",2], 'innerHTML', 'Hello, World!'
[mupf] main │┌─< Command_of_PHiYE4<[ cmd 7 *set* ]>._jsonify/7                         <-   (["~@",2], 'innerHTML', 'Hello, World!'), {}
[mupf] main │└─> Command_of_PHiYE4<[ cmd 7 *set* ]>._jsonify/7                           -> [0, 7, '*set*', {'args': (["~@",2], 'innerHTML', 'Hello, World!'), 'kwargs': {}}]
[mupf] main │┌─< Client<WebBrowser PHiYE4>.send_json/7                                 <-   [0, 7, '*set*', {'args': (["~@",2], 'innerHTML', 'Hello, World!'), 'kwargs': {}}]
[mupf] serv ││        ┌─< client/_base.py/create_send_task/6                           <-   <EventLoop>, <WebSocket Protocol 363ABE0>, '[0,7,"*set*",["~",{"args":[["~@",2],"innerHTML","Hello, World!"],"kwargs":{}},{"c":1}]]'
[mupf] main │└────────┼─> Client<WebBrowser PHiYE4>.send_json/7
[mupf] serv │         └─> client/_base.py/create_send_task/6
[mupf] main └─> Command_of_PHiYE4<[ cmd None *set* ]>.__call__/7                         -> <[ cmd 7 *set* ]>
[websockets.protocol] server > Frame(fin=True, opcode=1, data=b'[0,7,"*set*",["~",{"args":[["~@",2],"innerHTML","Hello, World!"],"kwargs":{}},{"c":1}]]', rsv1=False, rsv2=False, rsv3=False)
[websockets.protocol] server < Frame(fin=True, opcode=1, data=b'[1,7,0,{"result":null}]', rsv1=False, rsv2=False, rsv3=False)
[mupf] serv           ┌─< Client<WebBrowser PHiYE4>.decode_json/5                      <-   '[1,7,0,{"result":null}]'
[mupf] serv           └─> Client<WebBrowser PHiYE4>.decode_json/5                        -> [1, 7, 0, {'result': None}]
[mupf] serv            ─< _app.py/websocket_event/11                                   <-   'websocket going to sleep', <WebSocket Protocol 363ABE0>
[mupf] main ┌─< Command_of_PHiYE4<[ cmd ? ? ]>.__init__/8                              <-   '*gc*'
[mupf] main └─> Command_of_PHiYE4<[ cmd ? ? ]>.__init__/8
[mupf] main ┌─< Command_of_PHiYE4<[ cmd None *gc* ]>.run/1                             <-   2
[mupf] main │┌─< Command_of_PHiYE4<[ run None *gc* ]>.__call__/8                       <-   2
[mupf] main ││┌─< Command_of_PHiYE4<[ run 8 *gc* ]>._jsonify/8                         <-   (2,), {}
[mupf] main ││└─> Command_of_PHiYE4<[ run 8 *gc* ]>._jsonify/8                           -> [2, 8, '*gc*', {'args': (2,), 'kwargs': {}}]
[mupf] main ││┌─< Client<WebBrowser PHiYE4>.send_json/8                                <-   [2, 8, '*gc*', {'args': (2,), 'kwargs': {}}]
[mupf] serv │││       ┌─< client/_base.py/create_send_task/7                           <-   <EventLoop>, <WebSocket Protocol 363ABE0>, '[2,8,"*gc*",{"args":[2],"kwargs":{}}]'
[mupf] main ││└───────┼─> Client<WebBrowser PHiYE4>.send_json/8
[mupf] serv ││        └─> client/_base.py/create_send_task/7
[mupf] main │└─> Command_of_PHiYE4<[ run None *gc* ]>.__call__/8                         -> <[ run 8 *gc* ]>
[websockets.protocol] server > Frame(fin=True, opcode=1, data=b'[2,8,"*gc*",{"args":[2],"kwargs":{}}]', rsv1=False, rsv2=False, rsv3=False)
[mupf] main └─> Command_of_PHiYE4<[ cmd None *gc* ]>.run/1                               -> <[ cmd 8 *gc* ]>
[mupf] main ┌─< App.__exit__/0                                                         <-   None, None, None
[mupf] main │┌─< App.close/0
[mupf] main ││┌─< Client<WebBrowser PHiYE4>.close/0                                    <-   _dont_remove_from_app=True
[mupf] main │││┌─< Command_of_PHiYE4<[ cmd ? ? ]>.__init__/9                           <-   '*last*'
[mupf] main │││└─> Command_of_PHiYE4<[ cmd ? ? ]>.__init__/9
[mupf] main │││┌─< Command_of_PHiYE4<[ cmd None *last* ]>.__call__/9
[mupf] main ││││┌─< Command_of_PHiYE4<[ cmd 9 *last* ]>._jsonify/9                     <-   (), {}
[mupf] main ││││└─> Command_of_PHiYE4<[ cmd 9 *last* ]>._jsonify/9                       -> [0, 9, '*last*', {'args': (), 'kwargs': {}}]
[mupf] main ││││┌─< Client<WebBrowser PHiYE4>.send_json/9                              <-   [0, 9, '*last*', {'args': (), 'kwargs': {}}]
[mupf] serv │││││     ┌─< client/_base.py/create_send_task/8                           <-   <EventLoop>, <WebSocket Protocol 363ABE0>, '[0,9,"*last*",{"args":[],"kwargs":{}}]'
[mupf] main ││││└─────┼─> Client<WebBrowser PHiYE4>.send_json/9
[mupf] serv ││││      └─> client/_base.py/create_send_task/8
[mupf] main │││└─> Command_of_PHiYE4<[ cmd None *last* ]>.__call__/9                     -> <[ cmd 9 *last* ]>
[websockets.protocol] server > Frame(fin=True, opcode=1, data=b'[0,9,"*last*",{"args":[],"kwargs":{}}]', rsv1=False, rsv2=False, rsv3=False)
[websockets.protocol] server < Frame(fin=True, opcode=8, data=b'\x03\xe8*last*', rsv1=False, rsv2=False, rsv3=False)
[websockets.protocol] server - state = CLOSING
[websockets.protocol] server > Frame(fin=True, opcode=8, data=b'\x03\xe8*last*', rsv1=False, rsv2=False, rsv3=False)
[websockets.protocol] server x half-closing TCP connection
[mupf] serv │││        ─< _app.py/websocket_event/12                                   <-   'websocket communication breakdown', <WebSocket Protocol 363ABE0>, break_reason='*last*'
[mupf] serv │││        ─< _app.py/websocket_event/13                                   <-   'exiting websocket request body', <WebSocket Protocol 363ABE0>
[websockets.protocol] server - event = eof_received()
[websockets.protocol] server - event = connection_lost(None)
[websockets.protocol] server - state = CLOSED
[websockets.protocol] server x code = 1000, reason = *last*
[mupf] main ││└─> Client<WebBrowser PHiYE4>.close/0
[mupf] main │└─> App.close/0
[mupf] main └─> App.__exit__/0
[mupf] serv            ─< _app.py/server_event/6                                       <-   'event loop main run ended', <WebSocket Server 3623518>, eloop=<EventLoop halted>
[mupf] serv            ─< _app.py/server_event/7                                       <-   'server closing ...', <WebSocket Server 3623518>
[mupf] serv            ─< _app.py/server_event/8                                       <-   'server closed', <WebSocket Server 3623518>
[mupf] serv            ─< _app.py/server_event/9                                       <-   'event loop completed', <WebSocket Server 3623518>, eloop=<EventLoop halted>
[mupf] serv            ─< _app.py/server_event/10                                      <-   'event loop closed', <WebSocket Server 3623518>, eloop=<EventLoop closed halted>
[mupf] serv            ─< _app.py/server_event/11                                      <-   'server close state mutex set', <WebSocket Server 3623518>
[mupf] serv            ─< _app.py/server_event/12                                      <-   'exiting server thread body', <WebSocket Server 3623518>
